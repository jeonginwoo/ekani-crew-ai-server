import random
from typing import List

from app.mbti_test.domain.mbti_message import MBTIMessage, MessageRole, MessageSource


# ëˆˆì¹˜ ì¸ì‚¬ ë©”ì‹œì§€
GREETING_MESSAGE = (
    "í˜¹ì‹œ... ë„ˆë„ ê°€ë” ë„¤ MBTIê°€ í—·ê°ˆë¦¬ì§€ ì•Šì•„? ğŸ¤”\n\n"
    "ê²€ì‚¬í•  ë•Œë§ˆë‹¤ ë°”ë€ŒëŠ” ê²ƒ ê°™ê¸°ë„ í•˜ê³  ë§ì´ì•¼.\n\n"
    "ê·¸ë˜ì„œ ë‚´ê°€ ì™”ì–´! ë‚œ **Nunchi(ëˆˆì¹˜)**ì•¼. ğŸ‘€\n\n"
    "ë„¤ê°€ ë¬´ì‹¬ì½” ë˜ì§„ ë§ì†ì— ìˆ¨ê²¨ì§„ 0.1%ì˜ ì„±í–¥ê¹Œì§€ ë‚´ê°€ ì‹¹ ë‹¤ ìºì¹˜í•´ ì¤„ê²Œ.\n\n"
    "ì–¼ë§ˆë‚˜ ì •í™•í•œì§€ ê¶ê¸ˆí•˜ì§€? ì§€ê¸ˆ ë°”ë¡œ í™•ì¸í•´ ë´! ğŸ‘‡"
)


# ì°¨ì›ë³„ ì§ˆë¬¸ í’€ (íŒ€ì› ì œê³µ ì§ˆë¬¸)
QUESTION_POOL = {
    "E/I": [
        "ë“œë””ì–´ ê¸ˆìš”ì¼ ë°¤!! ğŸ”¥ ì´ë²ˆ ì£¼ ì§„ì§œ ê³ ìƒí–ˆì–´ã… ã… \në„ˆí•œí…Œ ì™„ë²½í•œ 'ë¶ˆê¸ˆ'ì€ ì–´ë–¤ ëª¨ìŠµì´ì•¼? (ìƒìƒë§Œ í•´ë„ ì¢‹ë‹¤...ğŸ¤¤)",
        "íŒŒí‹°ì— ë”± ë„ì°©í–ˆëŠ”ë°... í— ğŸ˜± ì•„ëŠ” ì‚¬ëŒì´ í•œ ëª…ë„ ì—†ëŠ” ê±°ì•¼!\n10ë¶„ ë’¤ì— ë„Œ ë­ í•˜ê³  ìˆì„ ê±° ê°™ì•„?",
        "ì—¬í–‰ ê°€ì„œ ìˆ™ì†Œ ë„ì°©! ë‹¤ë“¤ ë°©ì „ ìƒíƒœì¸ë° ğŸ˜µâ€ğŸ’«\nê°‘ìê¸° ì¹œêµ¬ê°€ \"ì•¼, í¸ì˜ì  ê°ˆ ì‚¬ëŒ?\" ì´ë¼ê³  ë¬¼ì–´ë³´ë„¤?\në„Œ ì–´ë–»ê²Œ í•  ê±°ì•¼?",
        "ëª¨ë¥´ëŠ” ì‚¬ëŒë“¤ë§Œ ìˆëŠ” ë‹¨í†¡ë°©ì— ì´ˆëŒ€ëì–´! ğŸ“±\në”± ë“¤ì–´ê°”ì„ ë•Œ, ë„ˆëŠ” ë³´í†µ ì–´ë–»ê²Œ í–‰ë™í•´?",
        "ì¹œêµ¬ê°€ ì¹´í†¡ìœ¼ë¡œ \"ë‚˜ ì˜¤ëŠ˜ ê°‘ìê¸° ì‹œê°„ ë¹”!\" ì´ë¬ì„ ë•Œ,\në¨¸ë¦¿ì†ì— ê°€ì¥ ë¨¼ì € ë“œëŠ” ìƒê°ì€ ë­ì•¼?",
        "ì˜¤ëœë§Œì— ì‹œëŒë²…ì í•œ ì¶•ì œ ë‹¤ë…€ì™”ì–´! ğŸ¶ (ë‘ ì¹«ë‘ ì¹«)\nì§‘ì— ë”± ëŒì•„ì™”ì„ ë•Œ, ë„¤ ì—ë„ˆì§€ ìƒíƒœëŠ” ì–´ë•Œ?",
        "ë“œë””ì–´ ì ì‹¬ì‹œê°„!! ğŸ”\nì˜¤ëŠ˜ ì ì‹¬ì€ ì–´ë–¤ ë¶„ìœ„ê¸°ì—ì„œ ë¨¹ê³  ì‹¶ì–´? (í˜¼ë°¥? íšŒì‹?)",
        "ì£¼ë§ì— ë’¹êµ´ê³  ìˆëŠ”ë° ì¹œêµ¬í•œí…Œ \"ì§€ê¸ˆ ì‹œê°„ ë¼?\" ì—°ë½ ì˜¤ë©´?! ğŸ“±\nì†”ì§íˆ ì–´ë–¤ ìƒê°ë¶€í„° ë“¤ì–´?",
        "ë„ˆ ì¸ìŠ¤íƒ€ ê°™ì€ SNS ìì£¼ í•´? ğŸ“¸\ní”¼ë“œì— ì£¼ë¡œ ì–´ë–¤ ì‚¬ì§„ ì˜¬ë¦¬ëŠ” í¸ì´ì•¼?",
        "íƒì‹œ íƒ”ëŠ”ë° ê¸°ì‚¬ë‹˜ì´ ìŠ¤ëª°í† í¬ ì‹œë™ ê±°ì‹¬... ğŸš•\nê³„ì† ë§ ê±°ì‹¤ ë•Œ ë„Œ ì–´ë–»ê²Œ ë°˜ì‘í•´?",
        "ì, ì§‘ì¤‘í•´ì•¼ í•  ë•Œ! ë¹¡ê³µ ëª¨ë“œ ON ğŸ“š\në„Œ ì‹œëŒë²…ì  ì¹´í˜ vs ì¡°ìš©í•œ ì§‘, ì–´ë””ê°€ ë” ì˜ ë¼?",
        "ê¸¸ ê°€ë‹¤ê°€ \"ì–´? ì•„ëŠ” ì‚¬ëŒì´ë‹¤!\" ğŸ˜²\nê·¼ë° ë§‰ ì—„ì²­ ì¹œí•˜ì§„ ì•Šì•„. ì´ëŸ´ ë•Œ ë„Œ ì–´ë–»ê²Œ í•´?",
        "ì˜¤ëŠ˜ ëŒ€ë°• ì¢‹ì€ ì¼ì´ ìƒê²¼ì–´ ğŸ‰ (ë³µê¶Œ ë‹¹ì²¨ê¸‰?!)\nì œì¼ ë¨¼ì € ë­ë¶€í„° í•  ê±°ì•¼?",
        "ë‹¨í†¡ë°©ì—ì„œ ì•¼ì‹¬ ì°¨ê²Œ ë“œë¦½ ì³¤ëŠ”ë°... ì•„ë¬´ë„ ëŒ€ë‹µì´ ì—†ì–´... ğŸ‚\nì´ë•Œ ë„ˆì˜ ê¸°ë¶„ì€? (ìƒì²˜ë°›ì•˜ë‹ˆ..?)",
    ],
    "S/N": [
        "ì§œì”! ë© ë•Œë¦¬ê¸° ë”± ì¢‹ì€ êµ¬ë¦„ ì‚¬ì§„ì´ì•¼ â˜ï¸\n(ì‚¬ì§„ ì „ì†¡)\nì´ê±° ë³´ë‹ˆê¹Œ ë¬´ìŠ¨ ìƒê° ë“¤ì–´? (ì†”ì§í•˜ê²Œ! ã…‹ã…‹)",
        "í°ì¼ ë‚¬ì–´!! ì¢€ë¹„ ë°”ì´ëŸ¬ìŠ¤ê°€ í¼ì ¸ì„œ ì„¸ìƒì´ ë§í•´ê°„ëŒ€!! ğŸ§Ÿâ€â™‚ï¸\në”± í•˜ë‚˜ë§Œ ì±™ê²¨ì„œ íŠˆ ìˆ˜ ìˆë‹¤ë©´ ë­˜ ê°€ì ¸ê°ˆ ê±°ì•¼?\nê·¸ë¦¬ê³  ê·¸ê±¸ ì±™ê¸´ ì´ìœ ëŠ” ë­ì•¼??",
        "ë„ˆí•œí…Œ ê°‘ìê¸° 100ì–µ ì›ì´ ëš ë–¨ì–´ì¡Œì–´!! ğŸ’¸\n(ìƒìƒë§Œ í•´ë„ í–‰ë³µ..ğŸ¤¤)\nê°€ì¥ ë¨¼ì € ë­ë¶€í„° í”Œë ‰ìŠ¤(FLEX) í•  ê±°ì•¼?",
        "ì¹œêµ¬ê°€ ëœ¬ê¸ˆì—†ì´ \"ë„ˆ ìš”ì¦˜ ì¢€ ë‹¬ë¼ì§„ ê²ƒ ê°™ì•„...\" ë¼ê³  í•˜ë©´? ğŸ¤”\nì´ ë§ ë”± ë“¤ì—ˆì„ ë•Œ! ë„Œ ë¬´ìŠ¨ ìƒê°ë¶€í„° ë“¤ì–´?",
        "ì¹œêµ¬ê°€ \"ë‚˜ ì˜¤ëŠ˜ ì¢€ ë‹¬ë¼ì§„ ê±° ì—†ì–´?\" ë¼ê³  ë¬¼ì–´ë´„! ğŸ˜±\n(ì´ê±° ë¹„ìƒì‚¬íƒœì„ ì‚ë½€ì‚ë½€ğŸš¨)\në„Œ ì¹œêµ¬ì˜ ì–´ë””ë¶€í„° ìŠ¤ìº”í•´?",
        "ì–´ë–¤ ì¼ì„ ë”± ì‹œì‘í•  ë•Œ, 'ì•„, ì´ê±´ ë¬´ì¡°ê±´ ëœë‹¤!' ì‹¶ì€ ëŠë‚Œ!\në„Œ ë³´í†µ ì–´ë–¤ ìˆœê°„ì— ê·¸ëŸ° í™•ì‹ ì„ ëŠê»´? âœ¨",
        "ìƒˆë¡œ ìƒê¸´ í•«í•œ ì‹ë‹¹ì— ë‹¤ë…€ì™”ì–´! ğŸ½ï¸\nì•ˆ ê°€ë³¸ ì¹œêµ¬ê°€ ì–´ë• ëƒê³  ë¬¼ì–´ë³´ë©´ ë­ë¼ê³  ì„¤ëª…í•´ ì¤„ ê±°ì•¼?",
        "ì§€ì¸ì´ ì˜í™” ì¶”ì²œí•´ë‹¬ë¼ê³  í•˜ë©´ ì–´ë–¤ ê¸°ì¤€ìœ¼ë¡œ ì¶”ì²œí•˜ëŠ” í¸ì´?",
        "ê¸¸ ê°€ë‹¤ê°€ ì—„ì²­~~ ì˜¤ë˜ëœ ë‚˜ë¬´ í•œ ê·¸ë£¨ë¥¼ ë°œê²¬í–ˆì–´ ğŸŒ³\nê·¸ ë‚˜ë¬´ë¥¼ ë³´ê³  ìˆìœ¼ë©´ ë¬´ìŠ¨ ìƒê°ì´ ë“¤ì–´?",
        "í°ë§˜ ë¨¹ê³  ì‚° ìƒˆ ì˜· ì…ê³  ì²« ì™¸ì¶œ! ğŸ‘—âœ¨\në¬¸ë°–ì„ ë‚˜ì„¤ ë•Œ ë­ê°€ ì œì¼ ì‹ ê²½ ì“°ì—¬?",
        "í˜¹ì‹œ ì–´ì œ ê¾¼ ê¿ˆ ê¸°ì–µë‚˜? ğŸŒ™\n(ê°œê¿ˆì´ë¼ë„ ì¢‹ì•„ã…‹ã…‹)\në‚˜í•œí…Œ ì–´ë–¤ ë‚´ìš©ì¸ì§€ ì‚´ì§ ì´ì•¼ê¸°í•´ ì¤„ ìˆ˜ ìˆì–´?",
        "ì§‘(ë˜ëŠ” ë‚´ ë°©)ì„ ìƒˆë¡œ ê¾¸ë¯¼ë‹¤ë©´! ğŸ \në„Œ ì–´ë–¤ ê±¸ ì œì¼ ì¤‘ìš”í•˜ê²Œ ê³ ë¯¼í•´?",
        "ì„ ë¬¼ì´ì•¼! ë°˜ì§ë°˜ì§ ë³„ì´ ìŸì•„ì§€ëŠ” ì‚¬ì§„ âœ¨\n(ì‚¬ì§„ ì „ì†¡)\nì´ê±° ë³´ë‹ˆê¹Œ ì§€ê¸ˆ ë”±! ë– ì˜¤ë¥´ëŠ” ìƒê°ì€?",
        "ë„ˆ ë…¸ë˜ ë“¤ì„ ë•Œ ê°€ì‚¬ ì§‘ì¤‘í•´ì„œ ë“£ëŠ” í¸ì´ì•¼? ğŸ§\nì£¼ë¡œ ì–´ë–¤ ê°€ì‚¬ê°€ ë„ˆí•œí…Œ 'ë¯¸ì³¤ë‹¤...' í•˜ê³  ê½‚í˜€?",
    ],
    "T/F": [
        "(ê¸´ê¸‰ìƒí™©) ì¹œêµ¬ê°€ ìš°ìš¸í•´ì„œ ë¨¸ë¦¬ ì˜ëë‹¤ê³  ì‚¬ì§„ì„ ë³´ëƒˆì–´ ğŸ’‡â€â™€ï¸\nê·¼ë°... ì†”ì§íˆ ì¢€... ì´ìƒí•´ (ë§í•œ ë“¯..)\në­ë¼ê³  ë‹µì¥í•  ê±°ì•¼?",
        "ìš´ì „í•˜ë‹¤ê°€ ì ‘ì´‰ ì‚¬ê³ ê°€ ë‚¬ì–´! ğŸš—ğŸ’¥ (ì¾…!)\nìƒëŒ€ë°©ì´ ë‚´ë¦¬ë©´ì„œ ë’·ëª©ì„ ì¡ë„¤...\nì´ë•Œ ë¨¸ë¦¿ì†ì— ê°€ì¥ ë¨¼ì € ë“œëŠ” ìƒê°ì€?",
        "ë„¤ê°€ íŒ€ì¥ì´ì•¼. íŒ€ì›ì€ ì •ë§ ì°©í•˜ê³  ì„±ì‹¤í•œë°...\nì¼ì„ ë„ˆë¬´ ëª»í•´ì„œ íŒ€ ì „ì²´ê°€ ì•¼ê·¼ ì¤‘ì´ì•¼ ğŸ¤¯\në„ˆë¼ë©´ ì–´ë–»ê²Œ í•  ê±°ì•¼?",
        "ì¹œí•œ ì¹œêµ¬ê°€ \"ì•„, ë‚˜ ìš”ì¦˜ ì§„ì§œ ë„ˆë¬´ í˜ë“¤ë‹¤...\" ë¼ê³  í•˜ì†Œì—°í•´.\në„¤ ì…ì—ì„œ ê°€ì¥ ë¨¼ì € ë‚˜ì˜¤ëŠ” ë§ì€?",
        "ì¹œêµ¬ë‘ ë§ì‹¸ì›€(ë…¼ìŸ)ì´ ë¶™ì—ˆì–´! ğŸ”¥\në„¤ê°€ **'ì´ê²¼ë‹¤!'**ê³  ëŠë¼ëŠ” ìˆœê°„ì€ ì–¸ì œì•¼?",
        "ëˆ„ê°€ ë´ë„ ë¹„íš¨ìœ¨ì ì¸ ë°©ë²•ìœ¼ë¡œ ì¼í•˜ëŠ” ì‚¬ëŒì„ ë´¤ì–´.\n(ì•„ë‹ˆ ì €ê±¸ ì™œ ì €ë ‡ê²Œ í•˜ì§€..? ë‹µë‹µ..ğŸ˜¤)\nê·¸ë•Œ ë“œëŠ” ì†”ì§í•œ ìƒê°ì€?",
        "ì¹œêµ¬ ìƒì¼ ì„ ë¬¼ì„ ê³ ë¥¼ ë•Œ! ğŸ\nê°€ì¥ ì‹ ê²½ ì¨ì„œ ê³ ë¥´ëŠ” í¬ì¸íŠ¸ëŠ” ë­ì•¼?",
        "(ì´ê±´ ì „ì„¤ì˜ ì§ˆë¬¸ ã…‹ã…‹)\nì¹œêµ¬ê°€ \"ë‚˜ ìš°ìš¸í•´ì„œ ë¹µ ìƒ€ì–´ ğŸ\" ë¼ê³  í–ˆì–´.\në„ˆì˜ ë°˜ì‘ì€?",
        "ìŠ¬í”ˆ ì˜í™”ë¥¼ ë³´ê³  ë‚˜ì™”ëŠ”ë° ì˜†ì— ì¹œêµ¬ê°€ í‘í‘ ìš¸ê³  ìˆì–´ ğŸ˜­\nê·¸ë•Œ ë„Œ ì–´ë–»ê²Œ í•´? (ì†”ì§íˆ!)",
        "ì—°ì•  ìƒë‹´ ì¤‘! ì¹œêµ¬ê°€ \"ë‚¨ì¹œ(ì—¬ì¹œ)ì´ ì—°ë½ì„ ì˜ ì•ˆ í•´..\" ë¼ë„¤?\nì´ë•Œ ë„ˆì˜ ë¦¬ì–¼ ë°˜ì‘ì€?",
        "ì„ ë¬¼ì„ ë°›ì•˜ëŠ”ë°... ì™„ì „ ë„¤ ì·¨í–¥ì´ ì•„ë‹ˆì•¼ ğŸ˜°\ní‘œì • ê´€ë¦¬í•˜ë©´ì„œ ë­ë¼ê³  ë§í•  ê±°ì•¼?",
        "ì¹œêµ¬ê°€ \"ë‚˜ ë‹¤ì´ì–´íŠ¸ ì¤‘!\" ì´ë¼ë©´ì„œ ì¼€ì´í¬ë¥¼ ë§‰ í¼ë¨¹ê³  ìˆì–´ ğŸ°\nê·¸ë•Œ ì¹œêµ¬ì—ê²Œ ë˜ì§€ëŠ” í•œë§ˆë””ëŠ”?",
        "ì¹œêµ¬ê°€ ì˜·ì„ ìƒ€ëŠ”ë° ì†”ì§íˆ í•ì´ ì¢€ ë³„ë¡œì•¼... ğŸ˜“\nê·¼ë° ì¹œêµ¬ëŠ” ë§˜ì— ë“¤ì–´ í•˜ëŠ” ëˆˆì¹˜ë„¤?\nì´ë•Œ ì†ìœ¼ë¡œ ë¬´ìŠ¨ ìƒê°í•´?",
        "ë„¤ê°€ í° ì‹¤ìˆ˜ë¥¼ í•´ì„œ ì‚¬ê³¼í•´ì•¼ í•˜ëŠ” ìƒí™©ì´ì•¼ ğŸ™\nì¥ë¬¸ì˜ ì¹´í†¡ì„ ë³´ë‚¸ë‹¤ë©´, ì–´ë–¤ ë‚´ìš©ì´ ì£¼ê°€ ë ê¹Œ?",
    ],
    "J/P": [
        "ë‚´ì¼ ë“œë””ì–´ ê¸°ë‹¤ë¦¬ë˜ í•´ì™¸ì—¬í–‰ ë‚ ì´ì•¼! âœˆï¸\nì§€ê¸ˆ ë„¤ ìºë¦¬ì–´ ìƒíƒœëŠ” ì–´ë•Œ? (ì†”ì§íˆ ë§í•´ë´ ã…‹ã…‹)",
        "ì£¼ë§ì— í°ë§˜ ë¨¹ê³  ë§›ì§‘ ê°”ëŠ”ë°... ë¬¸ì„ ë‹«ì•˜ì–´! (íœ´ë¬´ì¼ ì•„ë‹˜) ğŸ˜¨\nì´ëŸ´ ë•Œ ë„ˆì˜ ë¦¬ì–¼ ë°˜ì‘ì€?",
        "ì¹˜í‚¨ ì‹œì¼œ ë¨¹ìœ¼ë ¤ê³  ë°°ë‹¬ ì•±ì„ ì¼°ì–´! ğŸ—\në©”ë‰´ ê³ ë¥´ëŠ” ë„ˆë§Œì˜ ìŠ¤íƒ€ì¼ì€?",
        "ì§€ê¸ˆ ë”±! ë„ˆì˜ ë°©ì´ë‚˜ ì±…ìƒ ìƒíƒœë¥¼\nê°€ì¥ ì˜ ì„¤ëª…í•˜ëŠ” ë§ì€ ë­ì•¼? ğŸ§¹",
        "ì¹œêµ¬ë‘ 7ì‹œì— ë§Œë‚˜ê¸°ë¡œ í–ˆì–´ ğŸ•–\në„ˆëŠ” ë³´í†µ ì•½ì† ì¥ì†Œì— ì–¸ì œì¯¤ ë„ì°©í•´?",
        "ì´ë²ˆì— ë³µì¡í•œ ê°€ì „ì œí’ˆ(ë˜ëŠ” ê²Œì„)ì„ ìƒˆë¡œ ìƒ€ì–´! ğŸ®\nì„¤ëª…ì„œ... ì½ì–´? ì•ˆ ì½ì–´?",
        "ì¹œêµ¬ê°€ ëœ¬ê¸ˆì—†ì´ \"ì•¼, ì§€ê¸ˆ ë‹¹ì¥ ë°”ë‹¤ ë³´ëŸ¬ ê°ˆë˜?\" ë¼ê³  ê¼¬ì…” ğŸŒŠ\në„ˆì˜ ë°˜ì‘ì€?",
        "ì¹œêµ¬ë‘ ì €ë… ë¨¹ê¸°ë¡œ í–ˆëŠ”ë° ì–´ë”” ê°ˆì§€ ì•ˆ ì •í–ˆì–´.\në§Œë‚˜ì„œ ì–´ë–»ê²Œ ì •í•˜ëŠ” í¸ì´ì•¼?",
        "ë„ˆì˜ ì»´í“¨í„° ë°”íƒ•í™”ë©´... ğŸ’»\nì§€ê¸ˆ ì–´ë–¤ ìƒíƒœì¸ì§€ ì´ì‹¤ì§ê³ í•´ë¼!",
        "ìš”ë¦¬í•  ë•Œ ğŸ³ ë ˆì‹œí”¼(ì¡°ë¦¬ë²•) ì² ì €íˆ ì§€í‚¤ëŠ” í¸ì´ì•¼?",
        "ë§ˆíŠ¸ ì¥ ë³´ëŸ¬ ê°ˆ ë•Œ! ğŸ›’\në¯¸ë¦¬ ì ì–´ë‘” ë¦¬ìŠ¤íŠ¸ ëŒ€ë¡œë§Œ ì‚¬ëŠ” í¸ì´ì•¼?",
        "ì¤‘ìš”í•œ ê³¼ì œ(ì—…ë¬´) ë§ˆê°ì´ ì¼ì£¼ì¼ ë‚¨ì•˜ì–´. ğŸ“…\në„ˆì˜ ì‘ì—… ìŠ¤íƒ€ì¼ì€?",
        "ì¹´í†¡ì´ë‚˜ ë©”ì¼ ì•±ì— ëœ¬ ë¹¨ê°„ ìˆ«ì(ì•Œë¦¼ ë°°ì§€) ğŸ”´\nì´ê±° ë³´ë©´ ì–´ë–¤ ê¸°ë¶„ ë“¤ì–´?",
        "ë„ˆëŠ” 'í•´ì•¼ í•  ì¼ ëª©ë¡(To-do List)' ì ëŠ” ê±° ì¢‹ì•„í•´? ğŸ“",
    ],
}


class HumanQuestionProvider:
    """ì €ì¥ëœ ì¸ê°„ ì§ˆë¬¸ì„ ì œê³µí•˜ëŠ” Provider"""

    def get_greeting(self) -> MBTIMessage:
        """ëˆˆì¹˜ ì¸ì‚¬ ë©”ì‹œì§€ ë°˜í™˜"""
        return MBTIMessage(
            role=MessageRole.ASSISTANT,
            content=GREETING_MESSAGE,
            source=MessageSource.HUMAN,
        )

    def select_random_questions(self, questions_per_dimension: int = 3) -> List[str]:
        """
        ê° ì°¨ì›ì—ì„œ ëœë¤í•˜ê²Œ ì§ˆë¬¸ì„ ì„ íƒí•©ë‹ˆë‹¤.

        Args:
            questions_per_dimension: ì°¨ì›ë‹¹ ì„ íƒí•  ì§ˆë¬¸ ìˆ˜ (ê¸°ë³¸ 3ê°œ)

        Returns:
            ì„ íƒëœ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ (E/I 3ê°œ + S/N 3ê°œ + T/F 3ê°œ + J/P 3ê°œ = 12ê°œ)
        """
        selected = []
        for dimension in ["E/I", "S/N", "T/F", "J/P"]:
            pool = QUESTION_POOL[dimension]
            chosen = random.sample(pool, min(questions_per_dimension, len(pool)))
            selected.extend(chosen)
        return selected

    def get_question_from_list(
        self, question_index: int, selected_questions: List[str]
    ) -> MBTIMessage | None:
        """
        ì„ íƒëœ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì§ˆë¬¸ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

        Args:
            question_index: 0-based ì§ˆë¬¸ ì¸ë±ìŠ¤
            selected_questions: ì„¸ì…˜ì— ì €ì¥ëœ ì„ íƒëœ ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸

        Returns:
            MBTIMessage or None if index out of range
        """
        if question_index < 0 or question_index >= len(selected_questions):
            return None

        return MBTIMessage(
            role=MessageRole.ASSISTANT,
            content=selected_questions[question_index],
            source=MessageSource.HUMAN,
        )

    def get_total_questions(self) -> int:
        """ì´ ì§ˆë¬¸ ìˆ˜ ë°˜í™˜ (ì°¨ì›ë³„ 3ê°œì”© = 12ê°œ)"""
        return 12